# Changeset 发布工具 (cp)

## 简介
`cp` 命令是一个专门为 monorepo 项目设计的版本管理工具。它基于 `changesets` 系统，能够自动化管理多个包的版本更新、生成变更日志（changelog）以及发布流程。

## 主要功能
- 自动化管理多个包的版本号
- 标准化的 changelog 生成
- 支持正式版本和预发布版本（alpha）
- 发布前的交互式确认
- 自动化的 npm 包发布流程

## 解决的问题
在 monorepo 项目管理中，这个工具主要解决以下问题：
1. **版本协调**：自动处理多个相互依赖的包之间的版本升级
2. **更新日志维护**：自动生成和维护各个包的 changelog
3. **发布流程**：标准化的发布流程，减少人为错误
4. **预发布管理**：支持 alpha 等预发布版本的完整流程

## 使用前提
- 已安装 Node.js
- 安装 pnpm 包管理器（版本要求 8.10.0 或更高）
- 全局安装 swell-node-core：
```bash
npm i -g pnpm
npm i -g swell-node-core
```

## 使用方法

### 发布正式版本
执行以下命令发布正式版本：
```bash
snc cp
```

执行后会进行以下步骤：
1. 交互式选择需要更新的包和版本类型
2. 自动生成相应的版本号
3. 发布前请求确认
4. 发布包到 npm 仓库

### 发布预发布版本
执行以下命令发布 alpha 预发布版本：
```bash
snc cp pre
```

执行后会进行以下步骤：
1. 进入预发布模式（alpha 标签）
2. 选择需要更新的包
3. 生成预发布版本号
4. 退出预发布模式
5. 发布带有 alpha 标签的包

## 工作流程详解
1. **包选择**：通过交互式命令选择需要更新的包
2. **版本类型**：选择版本更新类型（major/minor/patch）
3. **版本生成**：根据选择自动生成新的版本号
4. **确认步骤**：发布前的交互式确认
5. **发布流程**：自动发布到 npm 仓库

## 注意事项
- 执行命令前确保所有更改已提交
- 版本更新遵循语义化版本规范
- 更新日志会根据您的输入自动生成
- 发布需要相应的 npm 仓库权限
- 建议在执行命令前先确认当前分支是否正确


